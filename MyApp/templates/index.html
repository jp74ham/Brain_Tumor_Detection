<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/globals.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styleguide.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
  </head>
  <body>
    <main class="front" data-model-id="7:895">
      <div class="component">
        <header class="hero-basic">
          <div class="text-content-title">
            <h1 class="title">Brain Tumor MRI Detection and Classification</h1>
            <p class="subtitle">DS5110 Final Project<br />Sri Divija Enturi, Reha Jambavadekar, Jessica Pham</p>
          </div>
          <div class="header-buttons">
            <button id="patient-login-btn" class="patient-login-button">Patient Login</button>
            <button id="admin-login-btn" class="admin-login-button">Database Login</button>
          </div>
        </header>
        <h2 class="text-wrapper-3">Schema and ER diagram</h2>
        <section class="panel-image-content">
          <div class="image" role="img" aria-label="ER Diagram">
            <img src="{{ url_for('static', filename='images/ERD.drawio.png') }}" alt="ER Diagram" style="max-width:100%;height:auto;display:block;margin:0 auto;" />
          </div>
          <div class="text-content-flow">
            <p class="text-wrapper-4">Key Relationships</p>
            <div class="text">
              <p class="p">
                <ul class="etl-list">
                  <li>One Patient → One MRI Scan</li>
                  <li>One MRI scan → one Classification result</li>
                  <li> Admins, Radiologists, Patients are subclasses of Users</li>
                </ul>
              </p>
            </div>
            <p class="text-wrapper-4">Design → Execution</p>
            <div class="text">
              <p class="p">
                <ul class="etl-list">
                  <li>Tables: Users (consolidated subclasses), mri_scans, tumor_classification</li>
                  <li>move Patient attributes to MRI_scans and use patientID as foreign key</li>                </ul>
              </p>
            </div>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Final Database Schema</span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <div class="schema-block">
                  <h4 class="text-wrapper-2">mri_scans</h4>
                  <pre class="query-code">CREATE TABLE "mri_scans" (
"original_path" TEXT,
  "processed_path" TEXT,
  "label" TEXT,
  "orig_width" INTEGER,
  "orig_height" INTEGER,
  "proc_width" INTEGER,
  "proc_height" INTEGER,
  "mean_pixel" REAL,
  "std_pixel" REAL,
  "ingest_timestamp" TEXT,
  "patient_id" INTEGER,
  "age" INTEGER,
  "gender" TEXT,
  "hospital_unit" TEXT,
  "scan_date" TEXT
)</pre>

                  <h4 class="text-wrapper-2">tumor_classification</h4>
                  <pre class="query-code">CREATE TABLE tumor_classification (
    classification_id INTEGER PRIMARY KEY AUTOINCREMENT,
    processed_path TEXT,
    predicted_label TEXT,
    confidence FLOAT,
    model_name TEXT,
    classified_on TEXT
)</pre>

                  <h4 class="text-wrapper-2">users</h4>
                  <pre class="query-code">CREATE TABLE users (
        username TEXT PRIMARY KEY,
        password_hash TEXT NOT NULL,
        password_salt TEXT NOT NULL,
        iterations INTEGER NOT NULL,
        role TEXT NOT NULL,
        patient_id INTEGER,
        created_on TEXT NOT NULL
    )</pre>
                </div>
              </div>
            </details>
          </div>
        </section>
        <section class="page-accordion">
          <div class="text-content-heading">
            <h2 class="text-wrapper">Project Information</h2>
          </div>
          <div class="accordion" role="region" aria-label="Project Information">
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Dataset and Links</span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-up-4.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <ul class="etl-list">
                  <li>Sourced from <a href="https://www.kaggle.com/datasets/sartajbhuvaji/brain-tumor-classification-mri" target="_blank" rel="noopener noreferrer">Kaggle</a> (Bhuvaji et al.)</li>
                  <li>4 tumor classes: glioma, meningioma, pituitary, no_tumor</li>
                  <li>Contains ~3,000+ MRI images</li>
                  <li>Organized in labeled directories</li>
                  <li><a href="https://github.com/jp74ham/Brain_Tumor_Detection" target="_blank" rel="noopener noreferrer">Project Github</a></li>
                </ul>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Tools and Technologies </span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-up-4.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <p class="body">
                  <ul class="etl-list">
                  <li>Python, Pandas, NumPy, OpenCV — preprocessing</li>
                  <li>TensorFlow / Keras — model training</li>
                  <li>SQLite / SQLAlchemy — structured storage</li>
                  <li>Flask — web framework</li>
                  <li>Matplotlib — visualizations</li>
                </ul>
                </p>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">ETL Pipeline</span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-up-4.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <ul class="etl-list">
                  <li>Extract: MRI images from the Kaggle dataset were unzipped and organized by tumor type.</li>
                  <li>Transform: Preprocessed images - resized to 224x224, normalized pixel values, and extracted metadata, saved processed images</li>
                  <li>Load: Metadata with additional synthetic fields (age, gender, scan date, hospital unit), stored in SQLite database</li>
                  <li>Created relational links between patients, scans, and classifications with proper foreign key constraints</li>
                </ul>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Queries</span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <ul class="etl-list">
                  <li>Access two portals on top right of website: patient (access to patient specific scan), admin and radiologist (access to entire database)</li>
                  <li>Patient portal takes Username and Password as patient_ID / patient_ID (Try: 8270, 8270 or 1860, 1860)
                  <li>Database can be accessed with Admin or Radiologist credentials. Only one Admin and five Radiologists exist. (Try: admin, password123; rad1, password123; rad2, password123; rad3, password123; rad4, password123, rad5, password123)</li>
                  <li>Admin and Radiologist logins will be able to create new patient records, query, and find/delete specific patients using patient ID</li>
                </ul>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Training and Testing Results</span>
                <img
                  class="img"
                  src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg"
                  alt=""
                  aria-hidden="true"
                />
              </summary>
              <div class="accordion-content">
                <p class="text-wrapper-4">Architecture & Training</p>
                <ul class="etl-list">
                  <li><strong>Model:</strong> Xception (transfer learning, 23M parameters)</li>
                  <li><strong>Dataset:</strong> 3,000+ MRI images (Glioma, Meningioma, Pituitary, No Tumor)</li>
                  <li><strong>Optimization:</strong> Fine-tuning + aggressive augmentation (rotation, zoom, flip)</li>
                  <li><strong>Training:</strong> 25 epochs with early stopping, checkpoint management</li>
                </ul>
                <p class="text-wrapper-4">Results</p>
                <ul class="etl-list">
                  <li><strong>Test Accuracy:</strong> 70%</li>
                  <li><strong>Inference Speed:</strong> ~2 sec/image</li>
                  <li><strong>High Confidence:</strong> 80%+ on majority of predictions</li>
                </ul>
                <img src="{{ url_for('static', filename='images/graphs_charts.jpg') }}" alt="Training and Testing Results" style="max-width:100%;height:auto;display:block;margin:20px auto;" />
              </div>
            </details>
          </div>
        </section>
        <footer class="footer-wrapper">
          <div class="footer">
            <p style="text-align: center; padding: 20px; color: var(--color-text-default-secondary);">
              © 2025 DS5110: Essentials of Data Science - Final Project - Dr. Fatema Nafa
            </p>
          </div>
        </footer>
      </div>
    </main>
    <script src="{{ url_for('static', filename='css/script.js') }}"></script>
  </body>
</html>
