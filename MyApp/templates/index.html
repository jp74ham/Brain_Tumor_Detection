<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/globals.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styleguide.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
  </head>
  <body>
    <main class="front" data-model-id="7:895">
      <div class="component">
        <header class="hero-basic">
          <div class="text-content-title">
            <h1 class="title">Brain Tumor MRI Detection and Classification</h1>
            <p class="subtitle">DS5110 Final Project<br />Sri Divija Enturi, Reha Jambavadekar, Jessica Pham</p>
          </div>
        </header>
        <section class="panel-image-content">
          <div class="image" role="img" aria-label="Brain MRI scan visualization"></div>
          <div class="text-content-flow">
            <div class="text-content-heading-2">
              <h2 class="text-wrapper-3">Heading</h2>
              <p class="text-wrapper-4">Subheading</p>
            </div>
            <div class="text">
              <p class="p">
                Body text for your whole article or post. We'll put in some lorem ipsum to show how a filled-out page
                might look:
              </p>
            </div>
            <div class="text">
              <p class="p">
                Excepteur efficient emerging, minim veniam anim aute carefully curated Ginza conversation exquisite
                perfect nostrud nisi intricate Content. Qui&nbsp;&nbsp;international first-class nulla ut. Punctual
                adipisicing, essential lovely queen tempor eiusmod irure. Exclusive izakaya charming Scandinavian
                impeccable aute quality of life soft power pariatur Melbourne occaecat discerning. Qui wardrobe aliquip,
                et Porter destination Toto remarkable officia Helsinki excepteur Basset hound. Zürich sleepy perfect
                consectetur.
              </p>
            </div>
          </div>
        </section>
        <section class="page-accordion">
          <div class="text-content-heading">
            <h2 class="text-wrapper">Heading</h2>
          </div>
          <div class="accordion" role="region" aria-label="Project Information">
            <details class="accordion-item" open>
              <summary class="accordion-title">
                <span class="text-wrapper-2">Tools</span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-up-4.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <p class="body">
                  Answer the frequently asked question in a simple sentence, a longish paragraph, or even in a list.
                </p>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Methodology</span>
                <img
                  class="img"
                  src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg"
                  alt=""
                  aria-hidden="true"
                />
              </summary>
              <div class="accordion-content">
                <p class="body">
                  Answer the frequently asked question in a simple sentence, a longish paragraph, or even in a list.
                </p>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Timeline</span>
                <img
                  class="img"
                  src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg"
                  alt=""
                  aria-hidden="true"
                />
              </summary>
              <div class="accordion-content">
                <p class="body">
                  Answer the frequently asked question in a simple sentence, a longish paragraph, or even in a list.
                </p>
              </div>
            </details>
            <details class="accordion-item" open>
              <summary class="accordion-title">
                <span class="text-wrapper-2">ETL Pipeline</span>
                <img class="img" src="https://c.animaapp.com/DnqGvymX/img/chevron-up-4.svg" alt="" aria-hidden="true" />
              </summary>
              <div class="accordion-content">
                <p class="body">
                  Answer the frequently asked question in a simple sentence, a longish paragraph, or even in a list.
                </p>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Queries</span>
                <img
                  class="img"
                  src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg"
                  alt=""
                  aria-hidden="true"
                />
              </summary>
              <div class="accordion-content">
                <div class="query-results-grid">
                  <!-- Query 1: Tumor Distribution -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 1: Number of detected tumors by type</p>
                      <pre class="query-code">SELECT
    tumor_type,
    COUNT(*) as count,
    ROUND(COUNT(*) * 100.0 / 
        (SELECT COUNT(*) FROM Tumor_Classification), 2) as percentage
FROM Tumor_Classification
GROUP BY tumor_type
ORDER BY count DESC;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query1_result.png') }}" alt="Query 1 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 2: Age Demographics -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 2: Tumor distribution by age groups</p>
                      <pre class="query-code">SELECT
    CASE
        WHEN p.age < 30 THEN '18-29'
        WHEN p.age < 50 THEN '30-49'
        WHEN p.age < 70 THEN '50-69'
        ELSE '70+'
    END as age_group,
    tc.tumor_type,
    COUNT(*) as count
FROM Patients p
JOIN MRI_Scans ms ON p.patient_id = ms.patient_id
JOIN Tumor_Classification tc ON ms.scan_id = tc.scan_id
GROUP BY age_group, tc.tumor_type
ORDER BY age_group, count DESC;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query2_result.png') }}" alt="Query 2 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 3: Confidence Scores -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 3: Average classification confidence per tumor type</p>
                      <pre class="query-code">SELECT
    tumor_type,
    ROUND(AVG(confidence_score), 4) as avg_confidence,
    ROUND(MIN(confidence_score), 4) as min_confidence,
    ROUND(MAX(confidence_score), 4) as max_confidence,
    COUNT(*) as total_cases
FROM Tumor_Classification
GROUP BY tumor_type
ORDER BY avg_confidence DESC;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query3_result.png') }}" alt="Query 3 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 4: Detection Trends -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 4: Detection trends by scan date and hospital</p>
                      <pre class="query-code">SELECT
    strftime('%Y-%m', p.date_of_scan) as scan_month,
    p.hospital_name,
    tc.tumor_type,
    COUNT(*) as cases
FROM Patients p
JOIN MRI_Scans ms ON p.patient_id = ms.patient_id
JOIN Tumor_Classification tc ON ms.scan_id = tc.scan_id
WHERE tc.tumor_type != 'no_tumor'
GROUP BY scan_month, p.hospital_name, tc.tumor_type
ORDER BY scan_month DESC, cases DESC
LIMIT 20;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query4_result.png') }}" alt="Query 4 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 5: Gender Distribution -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 5: Tumor cases by gender</p>
                      <pre class="query-code">SELECT
    p.gender,
    tc.tumor_type,
    COUNT(*) as count,
    ROUND(AVG(p.age), 1) as avg_age
FROM Patients p
JOIN MRI_Scans ms ON p.patient_id = ms.patient_id
JOIN Tumor_Classification tc ON ms.scan_id = tc.scan_id
WHERE tc.tumor_type != 'no_tumor'
GROUP BY p.gender, tc.tumor_type
ORDER BY count DESC;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query5_result.png') }}" alt="Query 5 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 6: Age Correlation -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 6: Patient age vs tumor frequency correlation</p>
                      <pre class="query-code">SELECT
    p.age,
    COUNT(DISTINCT ms.scan_id) as total_scans,
    SUM(CASE WHEN tc.tumor_type != 'no_tumor' 
        THEN 1 ELSE 0 END) as tumor_scans,
    ROUND(SUM(CASE WHEN tc.tumor_type != 'no_tumor' 
        THEN 1 ELSE 0 END) * 100.0 /
        COUNT(DISTINCT ms.scan_id), 2) as tumor_percentage
FROM Patients p
JOIN MRI_Scans ms ON p.patient_id = ms.patient_id
JOIN Tumor_Classification tc ON ms.scan_id = tc.scan_id
GROUP BY p.age
HAVING total_scans > 0
ORDER BY p.age;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query6_result.png') }}" alt="Query 6 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 7: Specific Tumor Cases -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 7: MRI scans for specific tumor types with patient info</p>
                      <pre class="query-code">SELECT
    ms.scan_id,
    p.anonymized_id,
    p.age,
    p.gender,
    ms.image_path,
    tc.tumor_type,
    tc.confidence_score,
    p.hospital_name
FROM MRI_Scans ms
JOIN Patients p ON ms.patient_id = p.patient_id
JOIN Tumor_Classification tc ON ms.scan_id = tc.scan_id
WHERE tc.tumor_type = 'glioma'
ORDER BY tc.confidence_score DESC
LIMIT 10;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query7_result.png') }}" alt="Query 7 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 8: Hospital Performance -->
                  <div class="query-pair">
                    <div class="query-code-container">
                      <p class="query-label">Query 8: Hospital performance statistics</p>
                      <pre class="query-code">SELECT
    p.hospital_name,
    COUNT(DISTINCT p.patient_id) as total_patients,
    COUNT(ms.scan_id) as total_scans,
    SUM(CASE WHEN tc.tumor_type != 'no_tumor' 
        THEN 1 ELSE 0 END) as tumor_detections,
    ROUND(SUM(CASE WHEN tc.tumor_type != 'no_tumor' 
        THEN 1 ELSE 0 END) * 100.0 /
        COUNT(ms.scan_id), 2) as detection_rate
FROM Patients p
JOIN MRI_Scans ms ON p.patient_id = ms.patient_id
JOIN Tumor_Classification tc ON ms.scan_id = tc.scan_id
GROUP BY p.hospital_name
ORDER BY total_scans DESC;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query8_result.png') }}" alt="Query 8 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                  <!-- Query 9: Recent Scans -->
                  <div class="query-pair query-pair-single">
                    <div class="query-code-container">
                      <p class="query-label">Query 9: Most recent scans by tumor type</p>
                      <pre class="query-code">SELECT
    tc.tumor_type,
    COUNT(*) as recent_count,
    MAX(ms.upload_timestamp) as latest_scan
FROM Tumor_Classification tc
JOIN MRI_Scans ms ON tc.scan_id = ms.scan_id
WHERE ms.upload_timestamp >= date('now', '-30 days')
GROUP BY tc.tumor_type
ORDER BY recent_count DESC;</pre>
                    </div>
                    <div class="query-image-container">
                      <img src="{{ url_for('static', filename='images/query9_result.png') }}" alt="Query 9 Result" class="query-image">
                      <p class="query-label">Query Result</p>
                    </div>
                  </div>
                </div>
              </div>
            </details>
            <details class="accordion-item">
              <summary class="accordion-title">
                <span class="text-wrapper-2">Training and Testing Results</span>
                <img
                  class="img"
                  src="https://c.animaapp.com/DnqGvymX/img/chevron-down-13.svg"
                  alt=""
                  aria-hidden="true"
                />
              </summary>
              <div class="accordion-content">
                <p class="body">
                  Answer the frequently asked question in a simple sentence, a longish paragraph, or even in a list.
                </p>
              </div>
            </details>
          </div>
        </section>
        <section class="frame">
          <div class="frame-2">
            <article class="upload-file">
              <header class="header"><h2 class="title-2">Download a random MRI scan and try our model</h2></header>
              <div class="content">
                <form
                  id="upload-form"
                  class="component-upload"
                  method="post"
                  enctype="multipart/form-data"
                  aria-label="MRI Image Upload Form"
                >
                  <div class="frame-3">
                    <img
                      id="preview-image"
                      class="component-2"
                      src="https://c.animaapp.com/DnqGvymX/img/component-placeholder-image-2@2x.png"
                      alt="MRI image placeholder"
                    />
                    <div class="frame-4">
                      <label for="mri-upload" class="please-upload-square">Upload a MRI Brain Image</label>
                      <div class="component-upload-2">
                        <div class="component-button">
                          <label for="mri-upload" class="frame-5">
                            <span class="text-wrapper-5">Choose File</span>
                          </label>
                          <input
                            type="file"
                            id="mri-upload"
                            name="mri-upload"
                            accept="image/*"
                            aria-describedby="file-chosen"
                            hidden
                          />
                        </div>
                        <div class="component-chosen">
                          <span class="text-wrapper-6" id="file-chosen" aria-live="polite">No File Chosen</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="component-button-wrapper">
                    <button type="button" id="save-btn" class="frame-wrapper" aria-label="Save uploaded image" disabled>
                      <span class="frame-5"><span class="choose-file">Save</span></span>
                    </button>
                  </div>
                </form>
                <!-- <hr class="divider-line" aria-hidden="true" /> -->
                <div class="sample-file-cta">
                  <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Download Random MRI Image">
                    <div class="download">
                      <img class="icon" src="https://c.animaapp.com/DnqGvymX/img/icon-1.png" alt="Download icon" />
                    </div>
                  </a>
                  <span class="text-wrapper-7">Download Random MRI Image</span>
                </div>
              </div>
              <footer class="button">
                <button type="button" id="cancel-btn" class="secondary-button" aria-label="Cancel operation">
                  <span class="label">Cancel</span>
                </button>
                <button type="button" id="submit-btn" class="primary-button" aria-label="Submit MRI image for classification" disabled>
                  <span class="label-2">Submit</span>
                </button>
              </footer>
            </article>
            <aside class="product-info-card" aria-label="Classification Results">
              <div id="result-image" class="image-2" role="img" aria-label="Result visualization"></div>
              <div class="body-2">
                <div class="div-wrapper"><h3 class="text-wrapper-8">Results</h3></div>
                <div class="text-strong"><span class="text-wrapper-9">Tumor?</span></div>
                <div class="div-wrapper"><output id="tumor-result" class="text-wrapper-10" aria-live="polite">-</output></div>
                <div class="text-strong-2"><span class="text-wrapper-11">Type?</span></div>
                <div class="text-small">
                  <output id="type-result" class="text-wrapper-12" aria-live="polite">-</output>
                </div>
              </div>
            </aside>
          </div>
        </section>
        <footer class="footer-wrapper">
          <div class="footer">
            <p style="text-align: center; padding: 20px; color: var(--color-text-default-secondary);">
              © 2025 DS5110: Essentials of Data Science - Final Project - Dr. Fatema Nafa
            </p>
          </div>
        </footer>
      </div>
    </main>
    <script src="{{ url_for('static', filename='css/script.js') }}"></script>
  </body>
</html>
